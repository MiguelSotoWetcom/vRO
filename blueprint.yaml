formatVersion: 1
inputs: {}
resources:
  AnsibleServer:
    type: Cloud.vSphere.Machine
    properties:
      image: Ubuntu JD - Ansible
      cpuCount: 2
      totalMemoryMB: 1024
      networks:
        - network: ${resource.Red.id}
  Cloud_Ansible_1:
    type: Cloud.Ansible
    properties:
      host: ${resource.AnsibleServer.*}
      hostName: ${resource.AnsibleServer.name}
      osType: linux
      account: Ansible Prueba
      username: administrator
      password: Password123$
      groups:
        - linux
      playbooks:
        provision:
          - /home/administrator/Documents/Ansible-vRA/MS-playbook-InstallNginx.yaml
  Red:
    type: Cloud.vSphere.Network
    properties:
      networkType: existing
